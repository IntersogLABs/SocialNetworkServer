define([
  'views/base/view',
  'text!templates/users/user-view.hbs'
], function(View, template) {
  'use strict';

	var UserView = View.extend({
	    autoRender: true,
	    
	    template: template,

	    events: {
	    	"click #start":"startFollow",
	    	"click #stop":"stopFollow"
	    },

	    startFollow:function() {
	    	var url="http://localhost:100/user" + location.hash.substring(7)+"/follow"
	    	$.ajax({url:url,
		        method:"POST",
		        success:function(res) {
		        	$('#start').attr("id", 'stop').text("Stop follow");
		        }
		    })
	  	},

	    stopFollow:function() {
	    	var url="http://localhost:100/user" + location.hash.substring(7)+"/follow"
	    	$.ajax({url:url,
		        method:"DELETE",
		        success:function(res) {
		        	$('#stop').attr("id", 'start').text("Start follow");
		        }
		    })
	    }
	});
	return UserView;
});